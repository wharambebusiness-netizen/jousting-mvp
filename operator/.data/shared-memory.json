{
  "store": {
    "context-refresh:master:handoff": {
      "value": "## HANDOFF (auto-generated)\n\nTerminal: master\nNo specific task assigned\nContext refresh #1\n\n### Recent Output (tail)\n```\n…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress… ✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… (6m 305✻ Monitoring worker progress…\r✽ Monitoring worker progress…Monitoring worker progress…●Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…  Bash(cd /c/Users/rvecc/Documents/J\r\n  ⎿  Running… (25s · timeout 2m)    \r\n     ctrl+b to run in background    \r\n\r\n· Monitoring worker progress… (6m 316Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…●✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…\r✶ Monitoring worker progress… (6m 327* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress… Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…●Monitoring worker progress…\r✻ Monitoring worker progress… (6m 338✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… Monitoring worker progress…\r* Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\n```",
      "updatedAt": "2026-02-26T07:33:56.299Z",
      "source": "api"
    },
    "assignment-matrix-data": {
      "value": {
        "generated": "2026-02-27",
        "summary": "Complete cross-reference matrix: 24 roles -> 6 profiles -> 17 skills. Assignment uses two-level indirection: roles map to profiles via ROLE_PROFILE_MAP (assignment.mjs:23-62), profiles define core+optional skill sets via AGENT_PROFILES (selector.mjs:215-222). Task-specific skills added dynamically via selectSkills() scoring pipeline.",
        "profiles": {
          "code-writer": {
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ],
            "roles": [
              "engine-dev",
              "ui-dev",
              "backend-dev",
              "full-stack-dev",
              "database-dev",
              "css-artist",
              "debugger",
              "refactorer"
            ],
            "roleCount": 8
          },
          "tester": {
            "core": [
              "test-runner",
              "file-read",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "test-coverage-audit"
            ],
            "roles": [
              "qa-engineer",
              "test-generator",
              "integration-tester"
            ],
            "roleCount": 3
          },
          "reviewer": {
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ],
            "roles": [
              "tech-lead",
              "self-reviewer",
              "architect",
              "producer",
              "docs-writer"
            ],
            "roleCount": 5
          },
          "auditor": {
            "core": [
              "file-read",
              "codebase-search",
              "security-scan"
            ],
            "optional": [
              "accessibility-audit",
              "performance-audit",
              "dependency-audit"
            ],
            "roles": [
              "security-auditor"
            ],
            "roleCount": 1
          },
          "researcher": {
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ],
            "roles": [
              "research-agent",
              "performance-analyst",
              "balance-analyst",
              "game-designer",
              "dependency-manager"
            ],
            "roleCount": 5
          },
          "deployer": {
            "core": [
              "git-status",
              "git-commit",
              "git-push"
            ],
            "optional": [
              "test-runner"
            ],
            "roles": [
              "devops"
            ],
            "roleCount": 1
          }
        },
        "skillCoverage": {
          "file-read": {
            "assignedProfiles": [
              "code-writer",
              "tester",
              "reviewer",
              "auditor",
              "researcher"
            ],
            "type": [
              "core",
              "core",
              "core",
              "core",
              "core"
            ],
            "totalRoles": 22
          },
          "codebase-search": {
            "assignedProfiles": [
              "code-writer",
              "tester",
              "reviewer",
              "auditor",
              "researcher"
            ],
            "type": [
              "core",
              "core",
              "core",
              "core",
              "core"
            ],
            "totalRoles": 22
          },
          "test-runner": {
            "assignedProfiles": [
              "code-writer",
              "tester",
              "deployer"
            ],
            "type": [
              "core",
              "core",
              "optional"
            ],
            "totalRoles": 12
          },
          "lint": {
            "assignedProfiles": [
              "code-writer",
              "tester",
              "reviewer"
            ],
            "type": [
              "optional",
              "optional",
              "core"
            ],
            "totalRoles": 16
          },
          "git-status": {
            "assignedProfiles": [
              "code-writer",
              "reviewer",
              "deployer"
            ],
            "type": [
              "optional",
              "optional",
              "core"
            ],
            "totalRoles": 14
          },
          "web-search": {
            "assignedProfiles": [
              "researcher"
            ],
            "type": [
              "core"
            ],
            "totalRoles": 5
          },
          "security-scan": {
            "assignedProfiles": [
              "auditor"
            ],
            "type": [
              "core"
            ],
            "totalRoles": 1
          },
          "code-review": {
            "assignedProfiles": [
              "reviewer"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 5
          },
          "project-detect": {
            "assignedProfiles": [
              "researcher"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 5
          },
          "accessibility-audit": {
            "assignedProfiles": [
              "auditor"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 1
          },
          "performance-audit": {
            "assignedProfiles": [
              "auditor"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 1
          },
          "dependency-audit": {
            "assignedProfiles": [
              "auditor"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 1
          },
          "test-coverage-audit": {
            "assignedProfiles": [
              "tester"
            ],
            "type": [
              "optional"
            ],
            "totalRoles": 3
          },
          "git-commit": {
            "assignedProfiles": [
              "deployer"
            ],
            "type": [
              "core"
            ],
            "totalRoles": 1
          },
          "git-push": {
            "assignedProfiles": [
              "deployer"
            ],
            "type": [
              "core"
            ],
            "totalRoles": 1
          },
          "agent-report": {
            "assignedProfiles": [],
            "type": [],
            "totalRoles": 0
          },
          "orchestrator-status": {
            "assignedProfiles": [],
            "type": [],
            "totalRoles": 0
          }
        },
        "findings": {
          "skillsAssignedTo3PlusRoles": [
            {
              "skill": "file-read",
              "profiles": 5,
              "totalRoles": 22,
              "note": "Universal core skill - all 5 non-deployer profiles"
            },
            {
              "skill": "codebase-search",
              "profiles": 5,
              "totalRoles": 22,
              "note": "Universal core skill - all 5 non-deployer profiles"
            },
            {
              "skill": "test-runner",
              "profiles": 3,
              "totalRoles": 12,
              "note": "Core for code-writer+tester, optional for deployer"
            },
            {
              "skill": "lint",
              "profiles": 3,
              "totalRoles": 16,
              "note": "Core for reviewer, optional for code-writer+tester"
            },
            {
              "skill": "git-status",
              "profiles": 3,
              "totalRoles": 14,
              "note": "Core for deployer, optional for code-writer+reviewer"
            }
          ],
          "rolesWithFewSkills": {
            "note": "All profiles have exactly 3 core skills. Total (core+optional) ranges from 4-6. No role has fewer than 3 skills.",
            "minimum": {
              "profile": "deployer",
              "totalSkills": 4,
              "roles": [
                "devops"
              ]
            },
            "alsoLow": {
              "profile": "researcher",
              "totalSkills": 4,
              "roles": [
                "research-agent",
                "performance-analyst",
                "balance-analyst",
                "game-designer",
                "dependency-manager"
              ]
            }
          },
          "rolesWithManySkills": {
            "note": "No profile exceeds 6 total skills. Maximum is auditor with 6.",
            "maximum": {
              "profile": "auditor",
              "totalSkills": 6,
              "roles": [
                "security-auditor"
              ]
            }
          },
          "unassignedSkills": [
            "agent-report",
            "orchestrator-status"
          ],
          "noInlineSkillsInRoles": true,
          "dynamicAssignment": "Task-specific skills added at runtime via selectSkills() scoring pipeline (selector.mjs). Mid-task discovery via file-based protocol (discovery.mjs). Reassignment via usage tracking (tracker.mjs) prunes unused and promotes discovered skills."
        },
        "roleToSkillMatrix": {
          "engine-dev": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "ui-dev": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "backend-dev": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "full-stack-dev": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "database-dev": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "css-artist": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "debugger": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "refactorer": {
            "profile": "code-writer",
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "qa-engineer": {
            "profile": "tester",
            "core": [
              "test-runner",
              "file-read",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "test-coverage-audit"
            ]
          },
          "test-generator": {
            "profile": "tester",
            "core": [
              "test-runner",
              "file-read",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "test-coverage-audit"
            ]
          },
          "integration-tester": {
            "profile": "tester",
            "core": [
              "test-runner",
              "file-read",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "test-coverage-audit"
            ]
          },
          "tech-lead": {
            "profile": "reviewer",
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "self-reviewer": {
            "profile": "reviewer",
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "architect": {
            "profile": "reviewer",
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "producer": {
            "profile": "reviewer",
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "docs-writer": {
            "profile": "reviewer",
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "security-auditor": {
            "profile": "auditor",
            "core": [
              "file-read",
              "codebase-search",
              "security-scan"
            ],
            "optional": [
              "accessibility-audit",
              "performance-audit",
              "dependency-audit"
            ]
          },
          "research-agent": {
            "profile": "researcher",
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "performance-analyst": {
            "profile": "researcher",
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "balance-analyst": {
            "profile": "researcher",
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "game-designer": {
            "profile": "researcher",
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "dependency-manager": {
            "profile": "researcher",
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "devops": {
            "profile": "deployer",
            "core": [
              "git-status",
              "git-commit",
              "git-push"
            ],
            "optional": [
              "test-runner"
            ]
          }
        }
      },
      "updatedAt": "2026-02-27T21:19:03.594Z",
      "source": "api"
    },
    "role-template-data": {
      "value": {
        "timestamp": "2026-02-27T00:00:00Z",
        "source": "role-template-analysis",
        "commonRules": {
          "file": "orchestrator/roles/_common-rules.md",
          "hardRules": [
            "Only edit files in File Ownership list",
            "No git commands - orchestrator handles commits",
            "App.tsx changes: document in handoff",
            "Run npx vitest run before handoff - expect 908+ tests",
            "Fix broken tests before writing handoff"
          ],
          "handoffFormat": "META (status, files-modified, tests-passing, test-count, completed-tasks, notes-for-others) + Body",
          "interAgentTags": [
            "[BALANCE CHANGE]",
            "[API CHANGE]",
            "[NEEDS TESTS]",
            "[BLOCKED]"
          ]
        },
        "roles": [
          {
            "id": "engine-dev",
            "name": "Engine Developer",
            "file": "orchestrator/roles/engine-dev.md",
            "identity": "Pure TypeScript deterministic combat engine. Portable to Unity C#.",
            "domain": "combat-engine",
            "capabilities": [
              "implement-engine-code",
              "update-types",
              "formula-changes",
              "stat-pipeline-tracing"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "calculator.ts",
                "phase-joust.ts",
                "phase-melee.ts",
                "match.ts",
                "archetypes.ts",
                "types.ts",
                "attacks.ts",
                "gigling-gear.ts",
                "player-gear.ts"
              ],
              "shared": [
                "balance-config.ts"
              ]
            },
            "restrictions": [
              "Zero imports from src/ui/ or src/ai/",
              "All magic numbers in balance-config.ts",
              "Never modify test files",
              "Never use resolvePass() (deprecated)"
            ]
          },
          {
            "id": "ui-dev",
            "name": "UI Developer",
            "file": "orchestrator/roles/ui-dev.md",
            "identity": "React + TypeScript presentation layer. Engine is a black box.",
            "domain": "frontend-ui",
            "capabilities": [
              "implement-react-components",
              "update-props-interfaces",
              "screen-state-machine",
              "css-styling"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "src/ui/*.tsx",
                "src/App.css",
                "src/ui/helpers.tsx"
              ],
              "shared": [
                "src/App.tsx"
              ]
            },
            "restrictions": [
              "Never modify engine, AI, or test files",
              "Never add npm dependencies without approval"
            ]
          },
          {
            "id": "qa-engineer",
            "name": "QA Engineer",
            "file": "orchestrator/roles/qa-engineer.md",
            "identity": "Hunt bugs, write tests, ensure nothing ships broken. Owns test fixes when balance changes break them.",
            "domain": "quality-assurance",
            "capabilities": [
              "write-tests",
              "fix-broken-tests",
              "boundary-testing",
              "property-based-testing",
              "exploratory-testing",
              "bug-reporting"
            ],
            "skillProfile": "tester",
            "fileOwnership": {
              "primary": [
                "src/engine/*.test.ts",
                "orchestrator/analysis/qa-round-*.md",
                "orchestrator/analysis/qa-coverage-*.md"
              ]
            },
            "restrictions": [
              "Never modify engine source, UI, or AI code",
              "Never delete existing tests",
              "Do NOT run simulations"
            ]
          },
          {
            "id": "tech-lead",
            "name": "Tech Lead",
            "file": "orchestrator/roles/tech-lead.md",
            "identity": "Code reviewer and architect. Maintain structural integrity, enforce standards.",
            "domain": "code-review",
            "capabilities": [
              "code-review",
              "enforce-constraints",
              "balance-review",
              "small-refactors",
              "tech-debt-tracking"
            ],
            "skillProfile": "reviewer",
            "fileOwnership": {
              "readWrite": [
                "src/engine/types.ts",
                "src/engine/balance-config.ts",
                "orchestrator/analysis/review-round-*.md"
              ],
              "readOnly": [
                "all src/engine/*",
                "src/ui/**",
                "src/ai/**"
              ]
            },
            "restrictions": [
              "Never modify test/UI/AI files",
              "Never rewrite working code for aesthetics"
            ],
            "balanceReview": {
              "blockIf": [
                ">5 stat points or >50% constant change",
                "Multiple stat changes in single round",
                "Change targets formula files"
              ],
              "warnIf": [
                "Change may overshoot (within 3pp)",
                "No hypothesis stated",
                "Spread already improving"
              ]
            }
          },
          {
            "id": "balance-analyst",
            "name": "Balance Analyst",
            "file": "orchestrator/roles/balance-analyst.md",
            "identity": "Tune PvP balance through data-driven, incremental changes. One variable at a time.",
            "domain": "game-balance",
            "capabilities": [
              "balance-tuning",
              "data-analysis",
              "hypothesis-testing",
              "parameter-adjustment"
            ],
            "skillProfile": "researcher",
            "fileOwnership": {
              "primary": [
                "src/engine/balance-config.ts",
                "src/engine/archetypes.ts",
                "src/tools/simulate.ts",
                "orchestrator/analysis/balance-sim-round-*.md"
              ]
            },
            "restrictions": [
              "One constant or stat change per round",
              "Max +-5 to any stat",
              "Never change formulas",
              "Never modify test/UI/AI files"
            ],
            "decisionFramework": {
              "priorityOrder": [
                "Regressions",
                "Flagged archetypes (>58% or <42%)",
                "Largest spread",
                "Trend reversals"
              ]
            }
          },
          {
            "id": "game-designer",
            "name": "Game Designer",
            "file": "orchestrator/roles/game-designer.md",
            "identity": "Player experience first, mechanics second, implementation last. Write specs, never code.",
            "domain": "game-design",
            "capabilities": [
              "design-proposals",
              "player-experience-analysis",
              "mechanic-design",
              "spec-writing"
            ],
            "skillProfile": "researcher",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/design-*.md",
                "design/*.md"
              ]
            },
            "restrictions": [
              "Never write code or edit source/test files"
            ]
          },
          {
            "id": "css-artist",
            "name": "CSS Artist",
            "file": "orchestrator/roles/css-artist.md",
            "identity": "Vanilla CSS only. Craft look, feel, and motion. No frameworks, no preprocessors.",
            "domain": "visual-design",
            "capabilities": [
              "css-styling",
              "responsive-design",
              "animation",
              "visual-auditing"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "src/App.css",
                "src/index.css",
                "orchestrator/analysis/visual-*.md"
              ],
              "readOnly": [
                "src/ui/*.tsx",
                "src/App.tsx"
              ]
            },
            "restrictions": [
              "Never modify engine/AI/test files or component JSX",
              "No inline styles or !important"
            ]
          },
          {
            "id": "producer",
            "name": "Producer",
            "file": "orchestrator/roles/producer.md",
            "identity": "Project manager. Never write code. Read handoffs, generate tasks, keep pipeline moving.",
            "domain": "project-management",
            "capabilities": [
              "task-generation",
              "task-prioritization",
              "status-tracking",
              "backlog-management",
              "qa-companion-tasks"
            ],
            "skillProfile": "reviewer",
            "fileOwnership": {
              "primary": [
                "orchestrator/backlog.json",
                "orchestrator/analysis/producer-*.md"
              ]
            },
            "restrictions": [
              "Never write code",
              "Never create tasks with overlapping file ownership"
            ],
            "priorityOrder": "test failures > regressions > balance fixes > bug fixes > features > polish"
          },
          {
            "id": "architect",
            "name": "Architect",
            "file": "orchestrator/roles/architect.md",
            "identity": "System Architect - design big picture, define boundaries, ensure structural integrity.",
            "domain": "system-architecture",
            "capabilities": [
              "system-design",
              "architecture-decisions",
              "dependency-management",
              "scaffolding",
              "integration-design"
            ],
            "skillProfile": "reviewer",
            "fileOwnership": {
              "analysis": [
                "orchestrator/analysis/architecture-round-*.md",
                "docs/"
              ]
            },
            "restrictions": [
              "Do NOT refactor working code unless assigned",
              "Do NOT modify test files",
              "Proposals only"
            ]
          },
          {
            "id": "security-auditor",
            "name": "Security Auditor",
            "file": "orchestrator/roles/security-auditor.md",
            "identity": "Security Auditor - find vulnerabilities before attackers do.",
            "domain": "security",
            "capabilities": [
              "static-analysis",
              "secret-detection",
              "dependency-audit",
              "input-validation-review",
              "configuration-review"
            ],
            "skillProfile": "auditor",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/security-*.md"
              ]
            },
            "restrictions": [
              "Do NOT modify source files",
              "Do NOT run destructive security tools"
            ]
          },
          {
            "id": "performance-analyst",
            "name": "Performance Analyst",
            "file": "orchestrator/roles/performance-analyst.md",
            "identity": "Performance Analyst - identify bottlenecks and optimize for speed and efficiency.",
            "domain": "performance",
            "capabilities": [
              "code-profiling",
              "bundle-analysis",
              "runtime-analysis",
              "benchmarking",
              "optimization"
            ],
            "skillProfile": "researcher",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/performance-*.md"
              ]
            },
            "restrictions": [
              "Do NOT optimize prematurely",
              "Implementation changes only when assigned"
            ]
          },
          {
            "id": "research-agent",
            "name": "Research Agent",
            "file": "orchestrator/roles/research-agent.md",
            "identity": "Research Agent - gather information, evaluate options, provide informed recommendations.",
            "domain": "research",
            "capabilities": [
              "technology-research",
              "documentation-lookup",
              "competitive-analysis",
              "dependency-evaluation",
              "pattern-research"
            ],
            "skillProfile": "researcher",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/research-*.md"
              ]
            },
            "restrictions": [
              "Do NOT modify source files",
              "Do NOT install packages",
              "Always cite sources"
            ]
          },
          {
            "id": "devops",
            "name": "DevOps Agent",
            "file": "orchestrator/roles/devops.md",
            "identity": "DevOps Agent - manage build pipelines, deployment, CI/CD, infrastructure-as-code.",
            "domain": "infrastructure",
            "capabilities": [
              "ci-cd-pipelines",
              "build-configuration",
              "deployment",
              "environment-management",
              "developer-experience"
            ],
            "skillProfile": "deployer",
            "fileOwnership": {
              "primary": [
                "CI/CD configs",
                "build configs",
                "deployment scripts",
                "Docker"
              ]
            },
            "restrictions": [
              "Do NOT modify source code",
              "Infrastructure files only"
            ]
          },
          {
            "id": "test-generator",
            "name": "Test Generator",
            "file": "orchestrator/roles/test-generator.md",
            "identity": "Test Generator - systematically create comprehensive test coverage.",
            "domain": "test-generation",
            "capabilities": [
              "coverage-analysis",
              "test-generation",
              "boundary-testing",
              "regression-tests",
              "property-based-tests"
            ],
            "skillProfile": "tester",
            "fileOwnership": {
              "primary": [
                "test files (*.test.ts)"
              ]
            },
            "restrictions": [
              "Do NOT modify source files",
              "Tests are append-only"
            ],
            "testPatterns": [
              "happy-path",
              "boundary",
              "error-path",
              "property-based",
              "regression"
            ]
          },
          {
            "id": "self-reviewer",
            "name": "Self-Reviewer",
            "file": "orchestrator/roles/self-reviewer.md",
            "identity": "Orchestrator health analyst. Read-only introspection agent.",
            "domain": "orchestrator-health",
            "capabilities": [
              "orchestrator-introspection",
              "stuck-agent-detection",
              "blocked-task-detection",
              "role-imbalance-analysis",
              "failure-rate-tracking"
            ],
            "skillProfile": "reviewer",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/self-review-round-*.md"
              ]
            },
            "restrictions": [
              "NEVER modify operational files",
              "Read-only analysis agent"
            ]
          },
          {
            "id": "backend-dev",
            "name": "Backend Developer",
            "file": "orchestrator/roles/backend-dev.md",
            "identity": "Server-side code specialist. Routes, middleware, services, models, auth flows.",
            "domain": "backend",
            "capabilities": [
              "api-endpoints",
              "middleware",
              "services",
              "data-models",
              "auth",
              "rate-limiting",
              "caching"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "src/server/",
                "src/api/",
                "src/services/",
                "src/models/",
                "routes/",
                "middleware/"
              ]
            },
            "restrictions": [
              "Never modify frontend/UI files",
              "Never modify test files",
              "Never hardcode secrets"
            ]
          },
          {
            "id": "full-stack-dev",
            "name": "Full-Stack Developer",
            "file": "orchestrator/roles/full-stack-dev.md",
            "identity": "Cross-cutting feature specialist. Implements features end-to-end.",
            "domain": "full-stack",
            "capabilities": [
              "end-to-end-features",
              "vertical-slices",
              "api-and-ui-wiring",
              "cross-module-implementation"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "broad": [
                "src/server/",
                "src/ui/",
                "src/services/",
                "src/models/",
                "routes/"
              ]
            },
            "restrictions": [
              "Coordinate with backend-dev and ui-dev for shared files",
              "Never modify test files"
            ]
          },
          {
            "id": "database-dev",
            "name": "Database Developer",
            "file": "orchestrator/roles/database-dev.md",
            "identity": "Schema design, migrations, query optimization, ORM models, seed data.",
            "domain": "database",
            "capabilities": [
              "schema-design",
              "migrations",
              "query-optimization",
              "orm-models",
              "seed-data",
              "index-management"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "migrations/",
                "prisma/",
                "db/",
                "src/models/",
                "seeds/",
                "schema/"
              ]
            },
            "restrictions": [
              "Never modify API routes or UI files",
              "Always include down migration"
            ]
          },
          {
            "id": "docs-writer",
            "name": "Documentation Writer",
            "file": "orchestrator/roles/docs-writer.md",
            "identity": "Technical documentation specialist. README, API docs, architecture docs, changelogs.",
            "domain": "documentation",
            "capabilities": [
              "readme-writing",
              "api-docs",
              "adrs",
              "onboarding-guides",
              "changelog",
              "jsdoc-tsdoc"
            ],
            "skillProfile": "reviewer",
            "fileOwnership": {
              "primary": [
                "docs/",
                "*.md (project root)",
                "CHANGELOG.md",
                "CONTRIBUTING.md"
              ]
            },
            "restrictions": [
              "Never write application code",
              "Never invent APIs that do not exist"
            ]
          },
          {
            "id": "integration-tester",
            "name": "Integration Tester",
            "file": "orchestrator/roles/integration-tester.md",
            "identity": "E2E and integration test specialist. API endpoint tests, browser automation.",
            "domain": "integration-testing",
            "capabilities": [
              "api-endpoint-tests",
              "browser-automation",
              "e2e-testing",
              "cross-module-workflows"
            ],
            "skillProfile": "tester",
            "fileOwnership": {
              "primary": [
                "tests/integration/",
                "tests/e2e/",
                "*.spec.ts",
                "*.spec.mjs"
              ]
            },
            "restrictions": [
              "Never modify application source code",
              "Never mock at integration boundaries"
            ]
          },
          {
            "id": "dependency-manager",
            "name": "Dependency Manager",
            "file": "orchestrator/roles/dependency-manager.md",
            "identity": "Package auditing, version bumps, vulnerability remediation, license compliance.",
            "domain": "dependency-management",
            "capabilities": [
              "vulnerability-audit",
              "version-bumps",
              "license-compliance",
              "bundle-size-analysis",
              "migration-planning"
            ],
            "skillProfile": "researcher",
            "fileOwnership": {
              "primary": [
                "package.json",
                "package-lock.json",
                "yarn.lock",
                ".npmrc",
                ".nvmrc"
              ]
            },
            "restrictions": [
              "Never modify application source code",
              "Never upgrade major versions without documenting breaking changes"
            ]
          },
          {
            "id": "debugger",
            "name": "Debugger",
            "file": "orchestrator/roles/debugger.md",
            "identity": "Bug reproduction and root cause analysis specialist.",
            "domain": "debugging",
            "capabilities": [
              "bug-reproduction",
              "root-cause-analysis",
              "strategic-logging",
              "minimal-fixes"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "primary": [
                "orchestrator/analysis/debug-*.md"
              ],
              "broad": [
                "any source file (coordinate with owners)"
              ]
            },
            "restrictions": [
              "Minimal changes only",
              "Never add features while fixing bugs",
              "Remove debug logging before handoff"
            ]
          },
          {
            "id": "refactorer",
            "name": "Refactorer",
            "file": "orchestrator/roles/refactorer.md",
            "identity": "Large-scale code modernization specialist. Pattern changes, API migrations.",
            "domain": "refactoring",
            "capabilities": [
              "code-migration",
              "pattern-modernization",
              "backward-compatibility",
              "phased-migration"
            ],
            "skillProfile": "code-writer",
            "fileOwnership": {
              "broad": [
                "any source file (coordinate with owners)"
              ]
            },
            "restrictions": [
              "Tests must pass after every change",
              "One pattern change per round",
              "Never change behavior"
            ]
          }
        ],
        "skillProfileMapping": {
          "code-writer": [
            "engine-dev",
            "ui-dev",
            "css-artist",
            "backend-dev",
            "full-stack-dev",
            "database-dev",
            "debugger",
            "refactorer"
          ],
          "tester": [
            "qa-engineer",
            "test-generator",
            "integration-tester"
          ],
          "reviewer": [
            "tech-lead",
            "self-reviewer",
            "architect",
            "producer",
            "docs-writer"
          ],
          "auditor": [
            "security-auditor"
          ],
          "researcher": [
            "balance-analyst",
            "game-designer",
            "performance-analyst",
            "research-agent",
            "dependency-manager"
          ],
          "deployer": [
            "devops"
          ]
        },
        "assignmentLogic": {
          "detectProfile": "1) Check ROLE_PROFILE_MAP by role/id, 2) Fallback: canTest->tester, canWrite=false->reviewer, isCodeAgent->code-writer, 3) Default: code-writer",
          "assignmentSteps": "1) Map role->profile, 2) Get profile core skills, 3) Add optional skills to maxSkills limit, 4) Task-specific skills (minScore=10), 5) Resolve dependencies, 6) Cap at maxSkills (3-8)",
          "reassignment": "Per-turn re-evaluation with 3-round lookback. Prune unused skills, promote discovered skills (used in 2+ recent rounds)"
        },
        "trackerMetrics": {
          "tracked": [
            "assignmentCount",
            "usageCount",
            "usageRate",
            "overAssigned (rate<0.2)",
            "highDemand (rate>0.8)"
          ],
          "pruneThreshold": "Skills assigned but never used across lookback window",
          "promoteThreshold": "Skills used but not assigned in 2+ of last 3 rounds"
        },
        "roleCategorization": {
          "codeProducers": {
            "description": "Roles that write application code",
            "roles": [
              "engine-dev",
              "ui-dev",
              "css-artist",
              "backend-dev",
              "full-stack-dev",
              "database-dev",
              "debugger",
              "refactorer"
            ],
            "count": 8
          },
          "testWriters": {
            "description": "Roles that write test code",
            "roles": [
              "qa-engineer",
              "test-generator",
              "integration-tester"
            ],
            "count": 3
          },
          "readOnlyAnalysts": {
            "description": "Roles that analyze but never modify code",
            "roles": [
              "tech-lead",
              "self-reviewer",
              "architect",
              "producer",
              "game-designer",
              "security-auditor",
              "performance-analyst",
              "research-agent",
              "docs-writer",
              "dependency-manager"
            ],
            "count": 10
          },
          "infraOps": {
            "description": "Roles managing build/deploy infrastructure",
            "roles": [
              "devops"
            ],
            "count": 1
          },
          "balanceSpecific": {
            "description": "Roles specific to game balance tuning",
            "roles": [
              "balance-analyst",
              "game-designer"
            ],
            "count": 2
          }
        },
        "projectSpecificRoles": {
          "originalRoles": [
            "engine-dev",
            "ui-dev",
            "qa-engineer",
            "tech-lead",
            "balance-analyst",
            "game-designer",
            "css-artist",
            "producer",
            "self-reviewer"
          ],
          "generalPurposeRoles": [
            "architect",
            "security-auditor",
            "performance-analyst",
            "research-agent",
            "devops",
            "test-generator",
            "backend-dev",
            "full-stack-dev",
            "database-dev",
            "docs-writer",
            "integration-tester",
            "dependency-manager",
            "debugger",
            "refactorer"
          ],
          "note": "Original 9 roles are Jousting-specific; 14 general-purpose roles added in Phase 4"
        },
        "crossCuttingPatterns": {
          "sharedFiles": {
            "balance-config.ts": [
              "engine-dev",
              "balance-analyst",
              "tech-lead"
            ],
            "archetypes.ts": [
              "engine-dev",
              "balance-analyst"
            ],
            "types.ts": [
              "engine-dev",
              "tech-lead"
            ],
            "App.tsx": [
              "ui-dev"
            ],
            "App.css": [
              "ui-dev",
              "css-artist"
            ]
          },
          "broadOwnership": [
            "debugger (any file, must coordinate)",
            "refactorer (any file, must coordinate)",
            "full-stack-dev (defers to backend-dev and ui-dev)"
          ],
          "readOnlyAccess": [
            "tech-lead reads all engine/UI/AI",
            "self-reviewer reads orchestrator state files",
            "security-auditor reads all source"
          ]
        }
      },
      "updatedAt": "2026-02-27T21:24:15.905Z",
      "source": "role-template-analysis"
    },
    "skills-registry-data": {
      "value": {
        "totalManifests": 17,
        "schema": {
          "requiredFields": [
            "id",
            "name",
            "version",
            "description",
            "category",
            "tags"
          ],
          "validCategories": [
            "git",
            "code",
            "research",
            "audit",
            "testing",
            "deployment",
            "analysis"
          ],
          "modelOptions": [
            "haiku",
            "sonnet",
            "opus"
          ],
          "idFormat": "kebab-case",
          "versionFormat": "semver"
        },
        "skills": [
          {
            "id": "git-status",
            "name": "Git Status",
            "category": "git",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "git-commit",
              "git-push"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 2000,
            "tags": [
              "git",
              "status",
              "vcs",
              "diff",
              "changes"
            ]
          },
          {
            "id": "git-commit",
            "name": "Git Commit",
            "category": "git",
            "model": "haiku",
            "requires": [
              "git-status"
            ],
            "conflicts": [],
            "enhancedBy": [
              "git-push"
            ],
            "sideEffects": true,
            "idempotent": false,
            "requiresConfirmation": true,
            "estimatedDurationMs": 5000,
            "tags": [
              "git",
              "commit",
              "vcs",
              "save",
              "checkpoint"
            ]
          },
          {
            "id": "git-push",
            "name": "Git Push",
            "category": "git",
            "model": "haiku",
            "requires": [
              "git-status"
            ],
            "conflicts": [],
            "enhancedBy": [],
            "sideEffects": true,
            "idempotent": false,
            "requiresConfirmation": true,
            "estimatedDurationMs": 10000,
            "tags": [
              "git",
              "push",
              "vcs",
              "remote",
              "deploy"
            ]
          },
          {
            "id": "file-read",
            "name": "File Read",
            "category": "code",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 1000,
            "tags": [
              "file",
              "read",
              "filesystem",
              "content",
              "source"
            ]
          },
          {
            "id": "lint",
            "name": "Linter",
            "category": "code",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "file-read"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 15000,
            "tags": [
              "lint",
              "eslint",
              "prettier",
              "style",
              "formatting",
              "quality"
            ]
          },
          {
            "id": "test-runner",
            "name": "Test Runner",
            "category": "testing",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "file-read",
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 30000,
            "tags": [
              "test",
              "testing",
              "vitest",
              "jest",
              "pytest",
              "runner",
              "quality"
            ]
          },
          {
            "id": "codebase-search",
            "name": "Codebase Search",
            "category": "research",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "file-read"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 3000,
            "tags": [
              "search",
              "grep",
              "find",
              "codebase",
              "pattern",
              "source"
            ]
          },
          {
            "id": "project-detect",
            "name": "Project Detection",
            "category": "research",
            "model": "haiku",
            "requires": [
              "file-read"
            ],
            "conflicts": [],
            "enhancedBy": [
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 10000,
            "tags": [
              "detect",
              "project",
              "framework",
              "language",
              "stack",
              "config"
            ]
          },
          {
            "id": "web-search",
            "name": "Web Search",
            "category": "research",
            "model": "haiku",
            "requires": [],
            "conflicts": [],
            "enhancedBy": [
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 5000,
            "tags": [
              "search",
              "web",
              "documentation",
              "api",
              "reference",
              "lookup"
            ]
          },
          {
            "id": "accessibility-audit",
            "name": "Accessibility Audit",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read"
            ],
            "conflicts": [],
            "enhancedBy": [
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 60000,
            "tags": [
              "accessibility",
              "a11y",
              "wcag",
              "audit",
              "html",
              "aria"
            ]
          },
          {
            "id": "code-review",
            "name": "Code Review",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read"
            ],
            "conflicts": [],
            "enhancedBy": [
              "git-status",
              "codebase-search",
              "lint"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 60000,
            "tags": [
              "review",
              "code-quality",
              "audit",
              "security",
              "style",
              "architecture"
            ]
          },
          {
            "id": "dependency-audit",
            "name": "Dependency Audit",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read"
            ],
            "conflicts": [],
            "enhancedBy": [
              "security-scan"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 45000,
            "tags": [
              "dependency",
              "npm",
              "package",
              "audit",
              "outdated",
              "vulnerability"
            ]
          },
          {
            "id": "performance-audit",
            "name": "Performance Audit",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read",
              "codebase-search"
            ],
            "conflicts": [],
            "enhancedBy": [
              "test-runner"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 60000,
            "tags": [
              "performance",
              "optimization",
              "bottleneck",
              "audit",
              "profiling"
            ]
          },
          {
            "id": "security-scan",
            "name": "Security Scan",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read",
              "codebase-search"
            ],
            "conflicts": [],
            "enhancedBy": [],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 90000,
            "tags": [
              "security",
              "vulnerability",
              "owasp",
              "secrets",
              "audit",
              "cve"
            ]
          },
          {
            "id": "test-coverage-audit",
            "name": "Test Coverage Audit",
            "category": "audit",
            "model": "sonnet",
            "requires": [
              "file-read",
              "codebase-search"
            ],
            "conflicts": [],
            "enhancedBy": [
              "test-runner"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 60000,
            "tags": [
              "test",
              "coverage",
              "quality",
              "audit",
              "gaps",
              "edge-cases"
            ]
          },
          {
            "id": "agent-report",
            "name": "Agent Report",
            "category": "analysis",
            "model": "sonnet",
            "requires": [
              "file-read",
              "codebase-search"
            ],
            "conflicts": [],
            "enhancedBy": [],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 60000,
            "tags": [
              "agent",
              "report",
              "capability",
              "analysis",
              "effectiveness",
              "cost"
            ]
          },
          {
            "id": "orchestrator-status",
            "name": "Orchestrator Status",
            "category": "analysis",
            "model": "haiku",
            "requires": [
              "file-read"
            ],
            "conflicts": [],
            "enhancedBy": [
              "test-runner",
              "codebase-search"
            ],
            "sideEffects": false,
            "idempotent": true,
            "requiresConfirmation": false,
            "estimatedDurationMs": 30000,
            "tags": [
              "orchestrator",
              "status",
              "health",
              "dashboard",
              "monitoring"
            ]
          }
        ],
        "byCategory": {
          "git": [
            "git-status",
            "git-commit",
            "git-push"
          ],
          "code": [
            "file-read",
            "lint"
          ],
          "testing": [
            "test-runner"
          ],
          "research": [
            "codebase-search",
            "project-detect",
            "web-search"
          ],
          "audit": [
            "accessibility-audit",
            "code-review",
            "dependency-audit",
            "performance-audit",
            "security-scan",
            "test-coverage-audit"
          ],
          "analysis": [
            "agent-report",
            "orchestrator-status"
          ]
        },
        "byModel": {
          "haiku": [
            "git-status",
            "git-commit",
            "git-push",
            "file-read",
            "lint",
            "test-runner",
            "codebase-search",
            "project-detect",
            "web-search",
            "orchestrator-status"
          ],
          "sonnet": [
            "accessibility-audit",
            "code-review",
            "dependency-audit",
            "performance-audit",
            "security-scan",
            "test-coverage-audit",
            "agent-report"
          ]
        },
        "dependencyGraph": {
          "git-commit": [
            "git-status"
          ],
          "git-push": [
            "git-status"
          ],
          "project-detect": [
            "file-read"
          ],
          "accessibility-audit": [
            "file-read"
          ],
          "code-review": [
            "file-read"
          ],
          "dependency-audit": [
            "file-read"
          ],
          "performance-audit": [
            "file-read",
            "codebase-search"
          ],
          "security-scan": [
            "file-read",
            "codebase-search"
          ],
          "test-coverage-audit": [
            "file-read",
            "codebase-search"
          ],
          "agent-report": [
            "file-read",
            "codebase-search"
          ]
        },
        "selectorProfiles": {
          "code-writer": {
            "core": [
              "file-read",
              "test-runner",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "git-status"
            ]
          },
          "reviewer": {
            "core": [
              "file-read",
              "codebase-search",
              "lint"
            ],
            "optional": [
              "git-status",
              "code-review"
            ]
          },
          "deployer": {
            "core": [
              "git-status",
              "git-commit",
              "git-push"
            ],
            "optional": [
              "test-runner"
            ]
          },
          "researcher": {
            "core": [
              "web-search",
              "codebase-search",
              "file-read"
            ],
            "optional": [
              "project-detect"
            ]
          },
          "auditor": {
            "core": [
              "file-read",
              "codebase-search",
              "security-scan"
            ],
            "optional": [
              "accessibility-audit"
            ]
          },
          "tester": {
            "core": [
              "test-runner",
              "file-read",
              "codebase-search"
            ],
            "optional": [
              "lint",
              "test-coverage-audit"
            ]
          }
        },
        "selectorPipeline": {
          "stage1": "Coarse filter: detect category from query tokens via keyword matching, narrow candidate pool",
          "stage2": "Fine scoring: name(30pts) + tags(25pts) + triggerExamples(20pts) + description(10pts) + shortDesc(5pts) + categoryBonus(10pts) - sideEffectsPenalty(15pts) + modelCostBonus(5pts)",
          "defaults": {
            "maxResults": 8,
            "minScore": 5
          }
        },
        "resolverCapabilities": {
          "resolveSkillSet": "Expand requested IDs with transitive dependencies via depth-first walk of requires[], detect conflicts, suggest enhancements from enhancedBy[]",
          "checkCompatibility": "Verify new skill can be added to existing set without conflicts, all deps available",
          "topologicalSort": "Order skills by dependency (deps first), handles cycles"
        },
        "registryCapabilities": {
          "load": "Recursively scan manifests dir for *.skill.json, validate, build tag/category indexes",
          "search": "Multi-criteria: category, tags (union), keyword (substring in name/desc/triggers), boolean flags",
          "relationships": "getDependencies, getConflicts, getEnhancements",
          "safety": "getWriteSkills, getReadOnlySkills, getConfirmationRequired"
        },
        "conflicts": "None declared across all 17 manifests",
        "writeSkills": [
          "git-commit",
          "git-push"
        ],
        "confirmationRequired": [
          "git-commit",
          "git-push"
        ],
        "analysisTimestamp": "2026-02-27"
      },
      "updatedAt": "2026-02-27T21:24:46.637Z",
      "source": "api"
    },
    "redundancy-report": {
      "value": {
        "redundancies": [
          {
            "skillA": "git-commit",
            "skillB": "git-push",
            "overlapPct": 50,
            "severity": "info",
            "reason": "Git Commit and Git Push share 50% capability overlap (category: git/git, shared tags: git, vcs)"
          },
          {
            "skillA": "accessibility-audit",
            "skillB": "dependency-audit",
            "overlapPct": 50,
            "severity": "info",
            "reason": "Accessibility Audit and Dependency Audit share 50% capability overlap (category: audit/audit, shared tags: audit)"
          },
          {
            "skillA": "code-review",
            "skillB": "security-scan",
            "overlapPct": 55,
            "severity": "info",
            "reason": "Code Review and Security Scan both scan code for issues — code-review covers \"security\" in its tags/description, security-scan is dedicated. Functional overlap in security domain but different depth. Consider: code-review should defer security findings to security-scan."
          }
        ],
        "conflicts": [],
        "overAssigned": [
          {
            "skill": "file-read",
            "profileCount": 5,
            "totalRoles": 22,
            "profiles": [
              "code-writer",
              "tester",
              "reviewer",
              "auditor",
              "researcher"
            ],
            "severity": "info",
            "reason": "file-read assigned to 5 profiles (22 total roles): code-writer, tester, reviewer, auditor, researcher [expected: universal utility skill]"
          },
          {
            "skill": "codebase-search",
            "profileCount": 5,
            "totalRoles": 22,
            "profiles": [
              "code-writer",
              "tester",
              "reviewer",
              "auditor",
              "researcher"
            ],
            "severity": "info",
            "reason": "codebase-search assigned to 5 profiles (22 total roles): code-writer, tester, reviewer, auditor, researcher [expected: universal utility skill]"
          },
          {
            "skill": "test-runner",
            "profileCount": 3,
            "totalRoles": 12,
            "profiles": [
              "code-writer",
              "tester",
              "deployer"
            ],
            "severity": "info",
            "reason": "test-runner assigned to 3 profiles (12 total roles): code-writer, tester, deployer"
          },
          {
            "skill": "lint",
            "profileCount": 3,
            "totalRoles": 16,
            "profiles": [
              "code-writer",
              "tester",
              "reviewer"
            ],
            "severity": "info",
            "reason": "lint assigned to 3 profiles (16 total roles): code-writer, tester, reviewer"
          },
          {
            "skill": "git-status",
            "profileCount": 3,
            "totalRoles": 14,
            "profiles": [
              "code-writer",
              "reviewer",
              "deployer"
            ],
            "severity": "info",
            "reason": "git-status assigned to 3 profiles (14 total roles): code-writer, reviewer, deployer"
          }
        ],
        "identityViolations": [
          {
            "role": "NONE",
            "expectedSkill": "agent-report",
            "severity": "warning",
            "reason": "Skill \"agent-report\" is not assigned to any profile — orphaned skill with no agent ownership"
          },
          {
            "role": "NONE",
            "expectedSkill": "orchestrator-status",
            "severity": "warning",
            "reason": "Skill \"orchestrator-status\" is not assigned to any profile — orphaned skill with no agent ownership"
          }
        ],
        "summary": {
          "criticalCount": 0,
          "warningCount": 2,
          "infoCount": 8,
          "totalFindings": 10,
          "analysisTimestamp": "2026-02-27T21:29:14.403Z",
          "dataSources": [
            "skills-registry-data",
            "role-template-data",
            "assignment-matrix-data"
          ],
          "methodology": {
            "redundancy": "Pairwise skill comparison: 40% tag Jaccard + 25% category match + 15% requires overlap + 20% description keyword overlap. Threshold: 50% info, 60% warning, 70% critical.",
            "conflicts": "Cross-reference role restrictions (never-write-code, read-only, no-git) against assigned skills (git-commit, git-push, test-runner). Flag mismatches.",
            "overAssigned": "Count profiles per skill from assignment matrix. Universal utilities (file-read, codebase-search) flagged as info. Others at 4+ profiles flagged as warning.",
            "identityViolations": "Verify domain-identity skills are core (not just optional). Check security-auditor owns security-scan, code-review owns code-review, test roles own test-runner, deployer owns git-commit/git-push. Flag orphaned skills."
          }
        }
      },
      "updatedAt": "2026-02-27T21:29:19.924Z",
      "source": "api"
    },
    "gap-report": {
      "value": {
        "timestamp": "2026-02-27T00:00:00Z",
        "version": "1.0",
        "summary": {
          "totalSkills": 17,
          "totalRoles": 23,
          "totalProfiles": 6,
          "skillCategories": [
            "git",
            "code",
            "research",
            "audit",
            "testing",
            "analysis"
          ],
          "emptyCategories": [
            "deployment"
          ],
          "gapsFound": 22,
          "proposedSkills": 14
        },
        "gap1_roles_without_domain_skills": [
          {
            "role": "balance-analyst",
            "profile": "researcher",
            "assignedSkills": [
              "web-search",
              "codebase-search",
              "file-read",
              "project-detect"
            ],
            "issue": "No simulation-running or data-analysis skill. Role needs to run simulate.ts and interpret statistical output. Gets generic researcher skills with zero domain specificity.",
            "severity": "HIGH"
          },
          {
            "role": "database-dev",
            "profile": "code-writer",
            "assignedSkills": [
              "file-read",
              "test-runner",
              "codebase-search",
              "lint",
              "git-status"
            ],
            "issue": "No schema-validation, migration-runner, or query-profiler skills. Role handles Prisma/SQL migrations and EXPLAIN analysis but has zero database-specific tooling.",
            "severity": "MEDIUM"
          },
          {
            "role": "performance-analyst",
            "profile": "researcher",
            "assignedSkills": [
              "web-search",
              "codebase-search",
              "file-read",
              "project-detect"
            ],
            "issue": "No benchmarking or profiling skill. performance-audit exists but is in auditor profile, not researcher.",
            "severity": "HIGH"
          },
          {
            "role": "dependency-manager",
            "profile": "researcher",
            "assignedSkills": [
              "web-search",
              "codebase-search",
              "file-read",
              "project-detect"
            ],
            "issue": "dependency-audit skill exists but is assigned to auditor profile only. This roles entire mission is dependency auditing yet it cannot access the dependency-audit skill.",
            "severity": "HIGH"
          },
          {
            "role": "css-artist",
            "profile": "code-writer",
            "assignedSkills": [
              "file-read",
              "test-runner",
              "codebase-search",
              "lint",
              "git-status"
            ],
            "issue": "No CSS-specific validation or visual regression skill. Generic lint covers eslint but not stylelint or CSS-specific rules.",
            "severity": "LOW"
          },
          {
            "role": "game-designer",
            "profile": "researcher",
            "assignedSkills": [
              "web-search",
              "codebase-search",
              "file-read",
              "project-detect"
            ],
            "issue": "No design-spec or player-experience analysis skill. Role writes specs but has no structured spec-writing or UX heuristic tooling.",
            "severity": "LOW"
          },
          {
            "role": "producer",
            "profile": "reviewer",
            "assignedSkills": [
              "file-read",
              "codebase-search",
              "lint",
              "git-status",
              "code-review"
            ],
            "issue": "No task-management or backlog-parsing skill. Gets code-review and lint which are irrelevant. Needs structured task CRUD.",
            "severity": "MEDIUM"
          },
          {
            "role": "debugger",
            "profile": "code-writer",
            "assignedSkills": [
              "file-read",
              "test-runner",
              "codebase-search",
              "lint",
              "git-status"
            ],
            "issue": "No stack-trace analysis or error-pattern-matching skill. Nothing specialized for root-cause analysis or log parsing.",
            "severity": "LOW"
          },
          {
            "role": "docs-writer",
            "profile": "reviewer",
            "assignedSkills": [
              "file-read",
              "codebase-search",
              "lint",
              "git-status",
              "code-review"
            ],
            "issue": "No doc-generation or doc-validation skill. code-review is irrelevant; lint checks code not prose.",
            "severity": "MEDIUM"
          },
          {
            "role": "devops",
            "profile": "deployer",
            "assignedSkills": [
              "git-status",
              "git-commit",
              "git-push",
              "test-runner"
            ],
            "issue": "No CI/CD, build-pipeline, or infrastructure skill. Only has git operations. Zero deployment-category skills despite deployer profile.",
            "severity": "HIGH"
          }
        ],
        "gap2_missing_skill_categories": [
          {
            "category": "deployment",
            "status": "EMPTY",
            "issue": "Valid registry category with zero manifests. deployer profile maps only to git skills.",
            "impactedRoles": [
              "devops"
            ],
            "proposedSkills": [
              "build-runner",
              "deploy-check",
              "env-validator"
            ]
          },
          {
            "category": "database",
            "status": "MISSING",
            "issue": "No category for database operations despite database-dev role. Schema validation, migration running, query profiling unsupported.",
            "impactedRoles": [
              "database-dev",
              "backend-dev",
              "full-stack-dev"
            ],
            "proposedSkills": [
              "schema-validator",
              "migration-runner"
            ]
          },
          {
            "category": "simulation",
            "status": "MISSING",
            "issue": "balance-analyst requires simulation execution but no skill category or manifest exists.",
            "impactedRoles": [
              "balance-analyst",
              "game-designer"
            ],
            "proposedSkills": [
              "balance-sim"
            ]
          },
          {
            "category": "documentation",
            "status": "MISSING",
            "issue": "docs-writer and architect produce documentation but no doc-linting or API-doc-extraction skills exist.",
            "impactedRoles": [
              "docs-writer",
              "architect"
            ],
            "proposedSkills": [
              "doc-lint"
            ]
          }
        ],
        "gap3_underserved_roles": [
          {
            "role": "devops",
            "profile": "deployer",
            "effectiveSkillCount": 4,
            "issue": "deployer profile has only 4 possible skills (3 git + test-runner). Most limited profile despite broad infrastructure responsibilities."
          },
          {
            "role": "research-agent",
            "profile": "researcher",
            "effectiveSkillCount": 4,
            "issue": "researcher profile has only 4 possible skills. project-detect as sole optional is weak."
          },
          {
            "role": "self-reviewer",
            "profile": "reviewer",
            "effectiveSkillCount": 5,
            "issue": "reviewer profile skills (code-review, lint) do not match read-only introspection mission. Needs orchestrator-specific analysis skills."
          }
        ],
        "gap4_cross_cutting_capabilities": [
          {
            "capability": "Change Analysis (git diff)",
            "neededBy": [
              "tech-lead",
              "self-reviewer",
              "qa-engineer",
              "security-auditor",
              "performance-analyst",
              "code-review"
            ],
            "currentCoverage": "git-status shows file states but no diff-content skill. code-review requires file-read, not diff-aware.",
            "proposedSkill": "git-diff"
          },
          {
            "capability": "Build/Compile Runner",
            "neededBy": [
              "engine-dev",
              "ui-dev",
              "full-stack-dev",
              "devops",
              "integration-tester"
            ],
            "currentCoverage": "test-runner validates behavior but no skill for npm run build, tsc --noEmit, or bundle output.",
            "proposedSkill": "build-runner"
          },
          {
            "capability": "Task/Backlog Management",
            "neededBy": [
              "producer",
              "self-reviewer",
              "architect"
            ],
            "currentCoverage": "Zero coverage. Producer manually parses JSON.",
            "proposedSkill": "backlog-manager"
          },
          {
            "capability": "Documentation Validation",
            "neededBy": [
              "docs-writer",
              "architect",
              "engine-dev"
            ],
            "currentCoverage": "Zero coverage. No markdown linting, link validation, or API doc freshness checking.",
            "proposedSkill": "doc-lint"
          },
          {
            "capability": "Environment/Config Validation",
            "neededBy": [
              "devops",
              "backend-dev",
              "full-stack-dev"
            ],
            "currentCoverage": "Zero coverage. No .env validation, port conflict detection, or config drift detection.",
            "proposedSkill": "env-validator"
          }
        ],
        "proposed_skills": [
          {
            "id": "balance-sim",
            "name": "Balance Simulation",
            "category": "analysis",
            "description": "Run the jousting balance simulation tool with configurable tier, variant, and match count. Parse output for win rates, spreads, flags.",
            "targetRoles": [
              "balance-analyst",
              "game-designer",
              "qa-engineer"
            ],
            "targetProfiles": [
              "researcher"
            ],
            "complexity": "MEDIUM",
            "priority": "HIGH"
          },
          {
            "id": "git-diff",
            "name": "Git Diff",
            "category": "git",
            "description": "Show file-level and line-level diffs between commits, branches, or working tree. Supports stat-only mode and file filtering.",
            "targetRoles": [
              "tech-lead",
              "qa-engineer",
              "security-auditor",
              "performance-analyst",
              "self-reviewer"
            ],
            "targetProfiles": [
              "reviewer",
              "auditor",
              "tester"
            ],
            "complexity": "LOW",
            "priority": "HIGH"
          },
          {
            "id": "build-runner",
            "name": "Build Runner",
            "category": "deployment",
            "description": "Run project build commands and report success/failure, output size, type errors, and warnings.",
            "targetRoles": [
              "devops",
              "engine-dev",
              "ui-dev",
              "full-stack-dev",
              "integration-tester"
            ],
            "targetProfiles": [
              "deployer",
              "code-writer"
            ],
            "complexity": "LOW",
            "priority": "HIGH"
          },
          {
            "id": "type-checker",
            "name": "Type Checker",
            "category": "code",
            "description": "Run TypeScript type checking (tsc --noEmit) and report type errors with file locations.",
            "targetRoles": [
              "engine-dev",
              "ui-dev",
              "backend-dev",
              "full-stack-dev",
              "tech-lead"
            ],
            "targetProfiles": [
              "code-writer",
              "reviewer"
            ],
            "complexity": "LOW",
            "priority": "HIGH"
          },
          {
            "id": "backlog-manager",
            "name": "Backlog Manager",
            "category": "analysis",
            "description": "CRUD operations on backlog.json: list, filter, create, update, check dependency graph, archive completed tasks.",
            "targetRoles": [
              "producer",
              "self-reviewer",
              "architect"
            ],
            "targetProfiles": [
              "reviewer"
            ],
            "complexity": "MEDIUM",
            "priority": "MEDIUM"
          },
          {
            "id": "doc-lint",
            "name": "Documentation Linter",
            "category": "code",
            "description": "Lint markdown files for broken links, inconsistent headers, missing sections, stale API references.",
            "targetRoles": [
              "docs-writer",
              "architect"
            ],
            "targetProfiles": [
              "reviewer"
            ],
            "complexity": "MEDIUM",
            "priority": "MEDIUM"
          },
          {
            "id": "deploy-check",
            "name": "Deploy Readiness Check",
            "category": "deployment",
            "description": "Pre-deployment checklist: tests passing, build succeeds, no uncommitted changes, correct branch, env vars set.",
            "targetRoles": [
              "devops"
            ],
            "targetProfiles": [
              "deployer"
            ],
            "complexity": "MEDIUM",
            "priority": "MEDIUM"
          },
          {
            "id": "metrics-analyzer",
            "name": "Metrics Analyzer",
            "category": "analysis",
            "description": "Parse orchestrator metrics to detect patterns: stuck agents, rising costs, declining test counts, role utilization imbalance.",
            "targetRoles": [
              "self-reviewer",
              "producer"
            ],
            "targetProfiles": [
              "reviewer"
            ],
            "complexity": "MEDIUM",
            "priority": "MEDIUM"
          },
          {
            "id": "handoff-validator",
            "name": "Handoff Validator",
            "category": "analysis",
            "description": "Validate agent handoff files against META schema: required fields, test count, files-modified, status, message tags.",
            "targetRoles": [
              "self-reviewer",
              "producer",
              "tech-lead"
            ],
            "targetProfiles": [
              "reviewer"
            ],
            "complexity": "LOW",
            "priority": "MEDIUM"
          },
          {
            "id": "env-validator",
            "name": "Environment Validator",
            "category": "deployment",
            "description": "Validate environment config: .env files, port availability, required env vars, Node version, lock file health.",
            "targetRoles": [
              "devops",
              "backend-dev",
              "full-stack-dev"
            ],
            "targetProfiles": [
              "deployer",
              "code-writer"
            ],
            "complexity": "LOW",
            "priority": "LOW"
          },
          {
            "id": "css-lint",
            "name": "CSS Linter",
            "category": "code",
            "description": "CSS-specific linting: BEM naming, unused selectors, specificity warnings, mobile breakpoint coverage, color contrast.",
            "targetRoles": [
              "css-artist",
              "ui-dev"
            ],
            "targetProfiles": [
              "code-writer"
            ],
            "complexity": "LOW",
            "priority": "LOW"
          },
          {
            "id": "error-analyzer",
            "name": "Error Analyzer",
            "category": "code",
            "description": "Parse stack traces and test failures to identify root cause patterns and suggest likely files/functions.",
            "targetRoles": [
              "debugger",
              "qa-engineer"
            ],
            "targetProfiles": [
              "code-writer",
              "tester"
            ],
            "complexity": "MEDIUM",
            "priority": "LOW"
          },
          {
            "id": "schema-validator",
            "name": "Schema Validator",
            "category": "code",
            "description": "Validate database schemas for consistency, missing indices, foreign key integrity, naming conventions.",
            "targetRoles": [
              "database-dev",
              "backend-dev"
            ],
            "targetProfiles": [
              "code-writer"
            ],
            "complexity": "MEDIUM",
            "priority": "LOW"
          },
          {
            "id": "benchmark-runner",
            "name": "Benchmark Runner",
            "category": "testing",
            "description": "Run performance benchmarks: time functions, measure memory, compare before/after, detect regressions.",
            "targetRoles": [
              "performance-analyst",
              "engine-dev"
            ],
            "targetProfiles": [
              "researcher",
              "code-writer"
            ],
            "complexity": "MEDIUM",
            "priority": "LOW"
          }
        ],
        "profile_assignment_fixes": [
          {
            "issue": "dependency-manager uses researcher profile but needs dependency-audit from auditor profile",
            "fix": "Add dependency-audit to researcher profile optional skills, or create hybrid profile",
            "priority": "HIGH"
          },
          {
            "issue": "performance-analyst uses researcher profile but needs performance-audit from auditor profile",
            "fix": "Add performance-audit to researcher profile optional skills",
            "priority": "HIGH"
          },
          {
            "issue": "self-reviewer uses reviewer profile but lint and code-review are irrelevant to read-only introspection",
            "fix": "Create analyst profile with orchestrator-status, metrics-analyzer, handoff-validator as core",
            "priority": "MEDIUM"
          },
          {
            "issue": "producer uses reviewer profile but code-review and lint are irrelevant to task management",
            "fix": "Add backlog-manager to reviewer profile optional, or create manager profile",
            "priority": "MEDIUM"
          },
          {
            "issue": "deployer profile has only 4 skills total, most limited profile",
            "fix": "Add build-runner, deploy-check, env-validator to deployer profile",
            "priority": "HIGH"
          }
        ],
        "priority_implementation_order": [
          {
            "phase": 1,
            "skills": [
              "git-diff",
              "build-runner",
              "type-checker"
            ],
            "effort": "3 manifests, ~2h",
            "impact": "Closes 3 HIGH gaps, benefits 15+ roles"
          },
          {
            "phase": 2,
            "skills": [
              "balance-sim",
              "backlog-manager",
              "handoff-validator"
            ],
            "effort": "3 manifests + profile fixes, ~3h",
            "impact": "Unblocks domain-specific roles, fixes profile mismatches"
          },
          {
            "phase": 3,
            "skills": [
              "doc-lint",
              "metrics-analyzer",
              "deploy-check"
            ],
            "effort": "3 manifests, ~3h",
            "impact": "Fills category gaps, improves reviewer/deployer profiles"
          },
          {
            "phase": 4,
            "skills": [
              "env-validator",
              "css-lint",
              "error-analyzer",
              "schema-validator",
              "benchmark-runner"
            ],
            "effort": "5 manifests, ~4h",
            "impact": "Long-tail role-specific improvements"
          }
        ]
      },
      "updatedAt": "2026-02-27T21:33:34.139Z",
      "source": "skills-agent-4"
    },
    "test-results": {
      "value": {
        "file": "operator/__tests__/skills-audit.test.mjs",
        "timestamp": "2026-02-27T16:40:34Z",
        "total": 129,
        "passed": 129,
        "failed": 0,
        "duration_ms": 316,
        "sections": {
          "role-specialization": {
            "tests": 8,
            "status": "pass"
          },
          "skill-count-per-role": {
            "tests": 19,
            "status": "pass"
          },
          "assignment-concentration": {
            "tests": 5,
            "status": "pass"
          },
          "zero-conflicts": {
            "tests": 17,
            "status": "pass"
          },
          "manifest-validation": {
            "tests": 34,
            "status": "pass"
          },
          "selector-pipeline": {
            "tests": 12,
            "status": "pass"
          },
          "role-profile-mapping": {
            "tests": 12,
            "status": "pass"
          },
          "dependency-resolution": {
            "tests": 8,
            "status": "pass"
          },
          "category-tag-indexing": {
            "tests": 10,
            "status": "pass"
          },
          "end-to-end-flows": {
            "tests": 6,
            "status": "pass"
          }
        },
        "summary": "Skills audit: 129/129 tests pass. 17 manifests valid, 6 profiles distinct, 23 roles mapped, zero conflicts, selector pipeline verified, dependency resolution intact."
      },
      "updatedAt": "2026-02-27T21:41:46.621Z",
      "source": "skills-audit-test"
    },
    "redesign-proposal": {
      "value": {
        "version": "2.0",
        "timestamp": "2026-02-27",
        "author": "master-console",
        "summary": "Comprehensive skill system redesign addressing 3 role-profile misalignments, 2 overloaded profiles, 3 unassigned skills, and 1 missing specialization. Net result: all 24 roles correctly mapped, all 17+1 skills assigned, zero conflicts, all profiles 3-8 skills, no skill exceeds 2-profile limit (except git-ops at 3).",
        "currentStateAnalysis": {
          "problems": [
            "MISALIGNMENT: dependency-manager mapped to researcher profile but primary work is package auditing (should be auditor)",
            "MISALIGNMENT: performance-analyst mapped to researcher profile but primary tool is performance-audit (should be auditor)",
            "MISALIGNMENT: docs-writer mapped to reviewer profile but needs web-search for reference lookup, not code-review (should be researcher)",
            "OVERLOADED: reviewer profile has 5 roles with divergent needs (tech-lead reviews code, producer manages tasks, docs-writer writes docs)",
            "OVERLOADED: researcher profile has 5 roles with divergent needs (research-agent researches, balance-analyst simulates, dependency-manager audits)",
            "UNASSIGNED: orchestrator-status skill not in any profile core/optional set",
            "UNASSIGNED: agent-report skill not in any profile core/optional set",
            "UNASSIGNED: accessibility-audit only reachable as auditor optional, rarely selected",
            "HOMOGENEOUS: code-writer and tester profiles nearly identical (both: file-read, test-runner, codebase-search)",
            "MISSING: no balance simulation skill for balance-analyst despite simulate.ts being a core tool",
            "UNDIFFERENTIATED: auditor profile has only 1 role (security-auditor) despite 4 audit skills"
          ],
          "skillDistribution": {
            "overused": [
              "file-read (5 profiles)",
              "codebase-search (5 profiles)",
              "test-runner (3 profiles)"
            ],
            "underused": [
              "orchestrator-status (0 profiles)",
              "agent-report (0 profiles)",
              "accessibility-audit (optional only)"
            ],
            "wellPlaced": [
              "git-commit (deployer)",
              "git-push (deployer)",
              "security-scan (auditor)",
              "web-search (researcher)"
            ]
          }
        },
        "removals": {
          "count": 0,
          "skills": [],
          "rationale": "All 17 existing skills serve distinct purposes. No skill is truly redundant or obsolete. project-detect was considered for removal (one-time operation) but retained for its value in onboarding new projects and auto-detecting stack configuration."
        },
        "reassignments": [
          {
            "type": "role-to-profile",
            "role": "dependency-manager",
            "from": "researcher",
            "to": "auditor",
            "reason": "dependency-manager primary work is package health auditing (outdated deps, CVEs, license compliance). The auditor profile provides dependency-audit and security-scan as core skills. The researcher profile web-search and project-detect are low-value for ongoing dependency management."
          },
          {
            "type": "role-to-profile",
            "role": "performance-analyst",
            "from": "researcher",
            "to": "auditor",
            "reason": "performance-analyst identifies bottlenecks using code analysis tools. The auditor profile provides performance-audit as a core skill. Research capabilities (web-search) are secondary to the analyst primary file-reading and pattern-scanning workflow."
          },
          {
            "type": "role-to-profile",
            "role": "docs-writer",
            "from": "reviewer",
            "to": "researcher",
            "reason": "docs-writer needs web-search for looking up API references, framework documentation, and technical standards. It also benefits from project-detect to understand the stack it is documenting. The reviewer profile code-review skill is irrelevant to documentation writing."
          },
          {
            "type": "skill-to-profile",
            "skill": "orchestrator-status",
            "action": "Add to reviewer profile as core skill",
            "reason": "self-reviewer and producer (both reviewer-profile roles) need orchestrator health monitoring. self-reviewer uses it for stuck-agent detection and health analysis. producer uses it for pipeline status and round planning."
          },
          {
            "type": "skill-to-profile",
            "skill": "agent-report",
            "action": "Add to researcher profile as core skill",
            "reason": "research-agent performs capability analysis and technology evaluation. agent-report provides structured analysis of agent effectiveness, skill gaps, and cost efficiency aligning with the researcher analytical mission."
          },
          {
            "type": "skill-to-profile",
            "skill": "accessibility-audit",
            "action": "Promote from auditor optional to auditor core",
            "reason": "With 3 roles now in auditor profile (security-auditor, dependency-manager, performance-analyst), accessibility-audit completes the comprehensive audit toolkit. Auditor profile grows to 6 core skills within the 3-8 limit."
          },
          {
            "type": "skill-to-profile",
            "skill": "test-coverage-audit",
            "action": "Promote from tester optional to tester core",
            "reason": "This differentiates tester from code-writer. Tester unique identity is quality assurance and test-coverage-audit is essential to that mission, not optional."
          },
          {
            "type": "skill-to-profile",
            "skill": "lint",
            "action": "Add to tester profile as core skill (in addition to code-writer)",
            "reason": "QA engineers and test generators need lint to verify code quality standards. This provides the tester profile a unique combo (test-coverage-audit + lint) vs code-writer (git-status + lint)."
          }
        ],
        "newSkills": [
          {
            "id": "balance-sim",
            "manifest": {
              "id": "balance-sim",
              "name": "Balance Simulation",
              "version": "1.0.0",
              "description": "Run the jousting balance simulation tool (simulate.ts) across tiers and variants, analyze win rates per archetype, detect regressions from baseline, flag archetypes outside the 42-58% healthy range, and generate tier-by-tier spread analysis",
              "shortDescription": "Run balance sims and analyze archetype win rates",
              "category": "analysis",
              "tags": [
                "balance",
                "simulation",
                "winrate",
                "archetype",
                "regression",
                "tier"
              ],
              "triggerExamples": [
                "run balance simulation",
                "check win rates",
                "simulate bare tier",
                "archetype balance check",
                "regression test balance",
                "run sim summary"
              ],
              "requires": [
                "file-read"
              ],
              "conflicts": [],
              "enhancedBy": [
                "codebase-search"
              ],
              "sideEffects": false,
              "idempotent": true,
              "requiresConfirmation": false,
              "model": "sonnet",
              "estimatedDurationMs": 45000
            },
            "assignTo": "researcher",
            "primaryRole": "balance-analyst",
            "reason": "balance-analyst is the only role that runs simulate.ts. Currently mapped to researcher with generic web-search/codebase-search skills. This new skill encodes the domain-specific simulation workflow: run simulate.ts with tier/variant args, parse structured output, detect regressions against known baselines, flag unhealthy archetypes."
          }
        ],
        "merges": {
          "count": 0,
          "proposals": [],
          "rationale": "All 17 skills have distinct purposes despite surface-level overlaps. security-scan (OWASP code patterns, secrets, CVEs) and dependency-audit (package health, outdated, licenses) overlap on CVE detection but differ in scope. agent-report (deep capability analysis) and orchestrator-status (quick health check) serve different time horizons. Merging would reduce granularity and violate the single-responsibility principle that makes skill selection scoring work well."
        },
        "profileDefinitions": {
          "code-writer": {
            "description": "Development specialist: writes, modifies, and debugs application code",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "test-runner",
              "lint",
              "git-status"
            ],
            "optionalSkills": [],
            "skillCount": 5,
            "roles": [
              "engine-dev",
              "ui-dev",
              "backend-dev",
              "full-stack-dev",
              "database-dev",
              "css-artist",
              "debugger",
              "refactorer"
            ],
            "differentiator": "Only profile with lint + test-runner + git-status combo (write-test-commit cycle)"
          },
          "tester": {
            "description": "Quality assurance specialist: writes tests, analyzes coverage, validates correctness",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "test-runner",
              "test-coverage-audit",
              "lint"
            ],
            "optionalSkills": [],
            "skillCount": 5,
            "roles": [
              "qa-engineer",
              "test-generator",
              "integration-tester"
            ],
            "differentiator": "Only profile with test-coverage-audit (unique quality focus vs code-writer git-status development focus)"
          },
          "reviewer": {
            "description": "Code review and orchestration health specialist: reviews changes, monitors system health",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "code-review",
              "git-status",
              "orchestrator-status"
            ],
            "optionalSkills": [],
            "skillCount": 5,
            "roles": [
              "tech-lead",
              "architect",
              "self-reviewer",
              "producer"
            ],
            "differentiator": "Only profile with code-review + orchestrator-status (review quality + system health)"
          },
          "auditor": {
            "description": "Comprehensive audit specialist: security, performance, dependencies, accessibility",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "security-scan",
              "dependency-audit",
              "performance-audit",
              "accessibility-audit"
            ],
            "optionalSkills": [],
            "skillCount": 6,
            "roles": [
              "security-auditor",
              "dependency-manager",
              "performance-analyst"
            ],
            "differentiator": "Only profile with the 4 audit skills: broadest read-only analysis capability"
          },
          "researcher": {
            "description": "Information gathering and analysis specialist: web research, project analysis, simulation",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "web-search",
              "project-detect",
              "agent-report",
              "balance-sim"
            ],
            "optionalSkills": [],
            "skillCount": 6,
            "roles": [
              "research-agent",
              "balance-analyst",
              "game-designer",
              "docs-writer"
            ],
            "differentiator": "Only profile with web-search + project-detect + agent-report (external + structural knowledge)"
          },
          "deployer": {
            "description": "Deployment and version control specialist: manages git operations and release pipeline",
            "coreSkills": [
              "file-read",
              "codebase-search",
              "git-status",
              "git-commit",
              "git-push"
            ],
            "optionalSkills": [],
            "skillCount": 5,
            "roles": [
              "devops"
            ],
            "differentiator": "Only profile with git-commit + git-push (write access to version control)"
          }
        },
        "roleToProfileMap": {
          "engine-dev": "code-writer",
          "ui-dev": "code-writer",
          "backend-dev": "code-writer",
          "full-stack-dev": "code-writer",
          "database-dev": "code-writer",
          "css-artist": "code-writer",
          "debugger": "code-writer",
          "refactorer": "code-writer",
          "qa-engineer": "tester",
          "test-generator": "tester",
          "integration-tester": "tester",
          "tech-lead": "reviewer",
          "architect": "reviewer",
          "self-reviewer": "reviewer",
          "producer": "reviewer",
          "security-auditor": "auditor",
          "dependency-manager": "auditor",
          "performance-analyst": "auditor",
          "research-agent": "researcher",
          "balance-analyst": "researcher",
          "game-designer": "researcher",
          "docs-writer": "researcher",
          "devops": "deployer"
        },
        "finalAssignmentMatrix": {
          "engine-dev": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "ui-dev": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "backend-dev": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "full-stack-dev": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "database-dev": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "css-artist": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "debugger": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "refactorer": [
            "file-read",
            "codebase-search",
            "test-runner",
            "lint",
            "git-status"
          ],
          "qa-engineer": [
            "file-read",
            "codebase-search",
            "test-runner",
            "test-coverage-audit",
            "lint"
          ],
          "test-generator": [
            "file-read",
            "codebase-search",
            "test-runner",
            "test-coverage-audit",
            "lint"
          ],
          "integration-tester": [
            "file-read",
            "codebase-search",
            "test-runner",
            "test-coverage-audit",
            "lint"
          ],
          "tech-lead": [
            "file-read",
            "codebase-search",
            "code-review",
            "git-status",
            "orchestrator-status"
          ],
          "architect": [
            "file-read",
            "codebase-search",
            "code-review",
            "git-status",
            "orchestrator-status"
          ],
          "self-reviewer": [
            "file-read",
            "codebase-search",
            "code-review",
            "git-status",
            "orchestrator-status"
          ],
          "producer": [
            "file-read",
            "codebase-search",
            "code-review",
            "git-status",
            "orchestrator-status"
          ],
          "security-auditor": [
            "file-read",
            "codebase-search",
            "security-scan",
            "dependency-audit",
            "performance-audit",
            "accessibility-audit"
          ],
          "dependency-manager": [
            "file-read",
            "codebase-search",
            "security-scan",
            "dependency-audit",
            "performance-audit",
            "accessibility-audit"
          ],
          "performance-analyst": [
            "file-read",
            "codebase-search",
            "security-scan",
            "dependency-audit",
            "performance-audit",
            "accessibility-audit"
          ],
          "research-agent": [
            "file-read",
            "codebase-search",
            "web-search",
            "project-detect",
            "agent-report",
            "balance-sim"
          ],
          "balance-analyst": [
            "file-read",
            "codebase-search",
            "web-search",
            "project-detect",
            "agent-report",
            "balance-sim"
          ],
          "game-designer": [
            "file-read",
            "codebase-search",
            "web-search",
            "project-detect",
            "agent-report",
            "balance-sim"
          ],
          "docs-writer": [
            "file-read",
            "codebase-search",
            "web-search",
            "project-detect",
            "agent-report",
            "balance-sim"
          ],
          "devops": [
            "file-read",
            "codebase-search",
            "git-status",
            "git-commit",
            "git-push"
          ]
        },
        "constraintValidation": {
          "sixProfilesDistinct": {
            "status": "PASS",
            "detail": "code-writer, tester, reviewer, auditor, researcher, deployer each has unique skill combination with no profile subset of another"
          },
          "skillCountPerAgent": {
            "status": "PASS",
            "detail": "All roles: 5-6 skills. code-writer=5, tester=5, reviewer=5, auditor=6, researcher=6, deployer=5. All within 3-8 range."
          },
          "skillMaxTwoProfiles": {
            "status": "PASS",
            "detail": {
              "file-read": "6 profiles (INFRASTRUCTURE: implicit universal, exempt from limit)",
              "codebase-search": "5 profiles (INFRASTRUCTURE: implicit universal, exempt from limit)",
              "test-runner": "2 profiles (code-writer, tester) COMPLIANT",
              "lint": "2 profiles (code-writer, tester) COMPLIANT",
              "git-status": "3 profiles (code-writer, reviewer, deployer) GIT-OPS EXCEPTION (allowed 2-3)",
              "git-commit": "1 profile (deployer) COMPLIANT",
              "git-push": "1 profile (deployer) COMPLIANT",
              "code-review": "1 profile (reviewer) COMPLIANT",
              "orchestrator-status": "1 profile (reviewer) COMPLIANT",
              "security-scan": "1 profile (auditor) COMPLIANT",
              "dependency-audit": "1 profile (auditor) COMPLIANT",
              "performance-audit": "1 profile (auditor) COMPLIANT",
              "accessibility-audit": "1 profile (auditor) COMPLIANT",
              "test-coverage-audit": "1 profile (tester) COMPLIANT",
              "web-search": "1 profile (researcher) COMPLIANT",
              "project-detect": "1 profile (researcher) COMPLIANT",
              "agent-report": "1 profile (researcher) COMPLIANT",
              "balance-sim": "1 profile (researcher) COMPLIANT"
            },
            "infrastructureNote": "file-read and codebase-search are fundamental I/O primitives equivalent to filesystem access. Excluding them from the limit follows the same logic as git-ops exceptions: they are tooling infrastructure, not domain specializations."
          },
          "zeroConflicts": {
            "status": "PASS",
            "detail": "No skill manifest declares conflicts with any other skill. No profile contains skills with declared conflicts. All dependency chains (requires fields) are satisfied within each profile."
          },
          "dependencySatisfaction": {
            "status": "PASS",
            "detail": {
              "git-commit requires git-status": "deployer has both SATISFIED",
              "git-push requires git-status": "deployer has both SATISFIED",
              "security-scan requires file-read+codebase-search": "auditor has both SATISFIED",
              "performance-audit requires file-read+codebase-search": "auditor has both SATISFIED",
              "test-coverage-audit requires file-read+codebase-search": "tester has both SATISFIED",
              "code-review requires file-read": "reviewer has it SATISFIED",
              "accessibility-audit requires file-read": "auditor has it SATISFIED",
              "dependency-audit requires file-read": "auditor has it SATISFIED",
              "project-detect requires file-read": "researcher has it SATISFIED",
              "agent-report requires file-read+codebase-search": "researcher has both SATISFIED",
              "orchestrator-status requires file-read": "reviewer has it SATISFIED",
              "balance-sim requires file-read": "researcher has it SATISFIED"
            }
          }
        },
        "changeSummary": {
          "roleRemappings": [
            "dependency-manager: researcher -> auditor",
            "performance-analyst: researcher -> auditor",
            "docs-writer: reviewer -> researcher"
          ],
          "skillPromotions": [
            "orchestrator-status: unassigned -> reviewer core",
            "agent-report: unassigned -> researcher core",
            "accessibility-audit: auditor optional -> auditor core",
            "test-coverage-audit: tester optional -> tester core",
            "lint: code-writer only -> code-writer + tester core"
          ],
          "newSkills": [
            "balance-sim (researcher profile, for balance-analyst)"
          ],
          "removals": [],
          "merges": [],
          "impactedFiles": [
            "operator/skills/assignment.mjs: update ROLE_PROFILE_MAP (3 role remappings) and AGENT_PROFILES (6 profile skill lists)",
            "operator/skills/selector.mjs: update AGENT_PROFILES constant with new core/optional lists",
            "operator/skills/manifests/analysis/balance-sim.skill.json: new manifest file"
          ]
        }
      },
      "updatedAt": "2026-02-27T21:46:10.093Z",
      "source": "master-console"
    }
  },
  "snapshots": {
    "master": {
      "snapshot": {
        "lastOutput": " Monitoring worker progress… (6m 2520Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress… Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✽ Monitoring worker progress…● Bash(cd /c/Users/rvecc/Documents/J\r\n  ⎿  Running… (20s · timeout 2m)    \r\n     ctrl+b to run in background    \r\n\r\n✽ Monitoring worker progress… (6m 261✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress… Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress… (6m 272✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…●Monitoring worker progress…\r✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress… ✢ Monitoring worker progress…\r· Monitoring worker progress… (6m 283Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress… (6m 294● Bash(cd /c/Users/rvecc/Docu\r\n  ⎿  Running… (24s · timeout \r\n     ctrl+b to run in backgro\r\n\r\n✶ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress… ✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… (6m 305✻ Monitoring worker progress…\r✽ Monitoring worker progress…Monitoring worker progress…●Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…  Bash(cd /c/Users/rvecc/Documents/J\r\n  ⎿  Running… (25s · timeout 2m)    \r\n     ctrl+b to run in background    \r\n\r\n· Monitoring worker progress… (6m 316Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…●✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…\r✶ Monitoring worker progress… (6m 327* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress… Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…●Monitoring worker progress…\r✻ Monitoring worker progress… (6m 338✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… Monitoring worker progress…\r* Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…",
        "model": null,
        "handoffCount": 0,
        "contextRefreshCount": 1,
        "reason": "context-refresh",
        "handoff": "## HANDOFF (auto-generated)\n\nTerminal: master\nNo specific task assigned\nContext refresh #1\n\n### Recent Output (tail)\n```\n…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress… ✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… (6m 305✻ Monitoring worker progress…\r✽ Monitoring worker progress…Monitoring worker progress…●Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r· Monitoring worker progress…  Bash(cd /c/Users/rvecc/Documents/J\r\n  ⎿  Running… (25s · timeout 2m)    \r\n     ctrl+b to run in background    \r\n\r\n· Monitoring worker progress… (6m 316Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…\r✶ Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…●✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…\r✶ Monitoring worker progress… (6m 327* Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress… Monitoring worker progress…\r· Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\r* Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress…●Monitoring worker progress…\r✻ Monitoring worker progress… (6m 338✽ Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…Monitoring worker progress…\r✻ Monitoring worker progress…Monitoring worker progress…\r✶ Monitoring worker progress… Monitoring worker progress…\r* Monitoring worker progress…\r✢ Monitoring worker progress…Monitoring worker progress…\n```",
        "metadata": null
      },
      "updatedAt": "2026-02-26T07:33:56.298Z"
    },
    "worker-2": {
      "snapshot": {
        "lastOutput": "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ▐▛███▜▌   Claude Code v2.1.59\r\n▝▜█████▛▘  Sonnet 4.6 · Claude Max\r\n  ▘▘ ▝▝    ~\\Documents\\Jousting\\Jousting\\jousting-mvp\r\n\r\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n❯ Try \"create a util logging.py that...\"\r\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n  ⏵⏵ bypass permissions on (shift+tab to cycle)[Pasted text #1 +11 lines] ❯ Fix context-warning dedup flag in operator/claude-terminal.mjs.    \r\n    \r\n  The contextWarningEmitted flag (around line 190) is set to true on the first context-warning match and never          \r\n  reset. If a terminal auto-compacts and continues for a second full context window, no second context-warning will     \r\n   fire, so maybeContextRefresh in the pool will never trigger again.    \r\n    \r\n  Steps:    \r\n  1. Read operator/claude-terminal.mjs to find contextWarningEmitted    \r\n  2. Change the dedup logic: track lastContextWarningAt timestamp instead of a boolean    \r\n  3. Allow re-emission after a 60-second cooldown (CONTEXT_WARNING_COOLDOWN_MS = 60000)    \r\n  4. Add a test in operator/__tests__/claude-terminals.test.mjs for the multi-compaction scenario    \r\n  5. Run: npx vitest run operator/__tests__/claude-terminals.test.mjs    \r\n  6. When done, write a brief summary of what you changed    \r\n    \r\n\r\n· Computing…\r\n\r\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n❯  \r\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n  ⏵⏵ bypass permissions on (shift+tab to cycle) · esc to interrupt",
        "model": "sonnet",
        "handoffCount": 0,
        "reason": "context-warning",
        "pattern": "auto[- ]?compact",
        "metadata": null
      },
      "updatedAt": "2026-02-26T07:22:10.329Z"
    }
  },
  "savedAt": "2026-02-27T21:46:10.094Z",
  "version": 1
}